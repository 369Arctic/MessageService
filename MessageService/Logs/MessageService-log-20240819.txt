2024-08-19 17:37:53.042 +05:00 [INF] Now listening on: https://localhost:5001
2024-08-19 17:37:53.065 +05:00 [INF] Now listening on: http://localhost:5129
2024-08-19 17:37:53.111 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-19 17:37:53.112 +05:00 [INF] Hosting environment: Development
2024-08-19 17:37:53.112 +05:00 [INF] Content root path: C:\Users\Виктор\Desktop\ООО Тестовое Кошелек\Кошелек\MessageService\MessageService
2024-08-19 17:38:27.800 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-08-19 17:38:29.355 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 1555.3673ms
2024-08-19 17:38:29.842 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-08-19 17:38:29.913 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 71.757ms
2024-08-19 17:38:31.031 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-08-19 17:38:31.031 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-08-19 17:38:31.046 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.6039ms
2024-08-19 17:38:41.124 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10092.9566ms
2024-08-19 17:38:41.211 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-08-19 17:38:41.307 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.8642ms
2024-08-19 17:38:54.100 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-08-19 17:38:54.284 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 183.5604ms
2024-08-19 17:38:54.403 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-08-19 17:38:54.403 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-08-19 17:38:54.403 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-08-19 17:38:54.403 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-08-19 17:38:54.412 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.4628ms
2024-08-19 17:38:54.442 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-19 17:38:54.442 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-19 17:38:54.442 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 38.8482ms
2024-08-19 17:38:54.442 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143943 text/css 38.8794ms
2024-08-19 17:38:54.464 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-19 17:38:54.465 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 61.4642ms
2024-08-19 17:38:54.659 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-08-19 17:38:54.693 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.933ms
2024-08-19 17:38:54.914 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-08-19 17:38:54.916 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1.8136ms
2024-08-19 17:38:55.081 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - null null
2024-08-19 17:38:55.082 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-08-19 17:38:55.082 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 0.8201ms
2024-08-19 18:53:47.914 +05:00 [INF] Now listening on: https://localhost:5001
2024-08-19 18:53:47.943 +05:00 [INF] Now listening on: http://localhost:5129
2024-08-19 18:53:47.990 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-19 18:53:47.990 +05:00 [INF] Hosting environment: Development
2024-08-19 18:53:47.990 +05:00 [INF] Content root path: C:\Users\Виктор\Desktop\ООО Тестовое Кошелек\Кошелек\MessageService\MessageService
2024-08-19 18:54:13.338 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-08-19 18:54:15.739 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 2402.1483ms
2024-08-19 18:54:16.226 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-08-19 18:54:25.993 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 9767.0645ms
2024-08-19 18:54:27.335 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-08-19 18:54:27.335 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-08-19 18:54:27.339 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 4.3957ms
2024-08-19 18:54:35.350 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8014.9425ms
2024-08-19 18:54:37.053 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-08-19 18:54:37.125 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.9012ms
2024-08-19 18:54:48.637 +05:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Messages/send - application/json 80
2024-08-19 18:54:48.651 +05:00 [INF] CORS policy execution failed.
2024-08-19 18:54:48.651 +05:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-08-19 18:54:48.655 +05:00 [INF] Executing endpoint 'MessageService.Controllers.MessagesController.SendMessage (MessageService)'
2024-08-19 18:54:48.672 +05:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessage(MessageService.Models.Message) on controller MessageService.Controllers.MessagesController (MessageService).
2024-08-19 18:55:08.644 +05:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/ws - null null
2024-08-19 18:55:08.645 +05:00 [INF] CORS policy execution failed.
2024-08-19 18:55:08.645 +05:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2024-08-19 18:55:08.645 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-19 18:55:08.645 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-19 18:55:08.646 +05:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/ws - 405 0 null 2.3205ms
2024-08-19 18:55:08.649 +05:00 [INF] Connection id "0HN60APEP1RJ1", Request id "0HN60APEP1RJ1:00000003": the application completed without reading the entire request body.
2024-08-19 18:55:30.613 +05:00 [ERR] Ошибка при отправке сообщения.
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnector conn, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnector conn, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnector conn, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.Internal.NpgsqlDatabaseInfo.Load(NpgsqlConnector conn, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.NpgsqlDataSource.Bootstrap(NpgsqlConnector connector, NpgsqlTimeout timeout, Boolean forceReload, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at MessageService.Data.MessageRepository.AddMessage(Message message) in C:\Users\Виктор\Desktop\ООО Тестовое Кошелек\Кошелек\MessageService\MessageService\Data\MessageRepository.cs:line 18
   at MessageService.Controllers.MessagesController.SendMessage(Message message) in C:\Users\Виктор\Desktop\ООО Тестовое Кошелек\Кошелек\MessageService\MessageService\Controllers\MessagesController.cs:line 31
2024-08-19 18:55:30.692 +05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-08-19 18:55:30.695 +05:00 [INF] Executed action MessageService.Controllers.MessagesController.SendMessage (MessageService) in 42019.5903ms
2024-08-19 18:55:30.696 +05:00 [INF] Executed endpoint 'MessageService.Controllers.MessagesController.SendMessage (MessageService)'
2024-08-19 18:55:30.696 +05:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Messages/send - 500 null text/plain; charset=utf-8 42058.8897ms
2024-08-19 19:03:41.873 +05:00 [INF] Now listening on: https://localhost:5001
2024-08-19 19:03:41.895 +05:00 [INF] Now listening on: http://localhost:5129
2024-08-19 19:03:41.933 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-19 19:03:41.934 +05:00 [INF] Hosting environment: Development
2024-08-19 19:03:41.934 +05:00 [INF] Content root path: C:\Users\Виктор\Desktop\ООО Тестовое Кошелек\Кошелек\MessageService\MessageService
2024-08-19 19:03:45.495 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-08-19 19:03:45.807 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 314.734ms
2024-08-19 19:03:45.857 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-08-19 19:03:45.857 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-08-19 19:03:45.866 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.376ms
2024-08-19 19:03:46.043 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.4831ms
2024-08-19 19:03:46.393 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-08-19 19:03:46.517 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.0968ms
2024-08-19 19:03:57.262 +05:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Messages/send - application/json 76
2024-08-19 19:03:57.287 +05:00 [INF] CORS policy execution failed.
2024-08-19 19:03:57.287 +05:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-08-19 19:03:57.290 +05:00 [INF] Executing endpoint 'MessageService.Controllers.MessagesController.SendMessage (MessageService)'
2024-08-19 19:03:57.310 +05:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessage(MessageService.Models.Message) on controller MessageService.Controllers.MessagesController (MessageService).
2024-08-19 19:03:57.819 +05:00 [INF] Сообщение сохранено: ID=63, Content=777
2024-08-19 19:03:57.826 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-08-19 19:03:57.828 +05:00 [INF] Executed action MessageService.Controllers.MessagesController.SendMessage (MessageService) in 516.2227ms
2024-08-19 19:03:57.829 +05:00 [INF] Executed endpoint 'MessageService.Controllers.MessagesController.SendMessage (MessageService)'
2024-08-19 19:03:57.829 +05:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Messages/send - 200 0 null 567.4135ms
2024-08-19 19:04:11.162 +05:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Messages/get?startDate=2024-08-19T14%3A03%3A53.903Z&endDate=2024-08-19T14%3A03%3A53.903Z - null null
2024-08-19 19:04:11.164 +05:00 [INF] Executing endpoint 'MessageService.Controllers.MessagesController.GetMessages (MessageService)'
2024-08-19 19:04:11.168 +05:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMessages(System.DateTime, System.DateTime) on controller MessageService.Controllers.MessagesController (MessageService).
2024-08-19 19:04:11.173 +05:00 [INF] Запрос на получение сообщений за диапазон дат 19.08.2024 14:03:53 - 19.08.2024 14:03:53.
2024-08-19 19:04:11.216 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MessageService.Models.Message, MessageService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-19 19:04:11.218 +05:00 [INF] Executed action MessageService.Controllers.MessagesController.GetMessages (MessageService) in 50.481ms
2024-08-19 19:04:11.218 +05:00 [INF] Executed endpoint 'MessageService.Controllers.MessagesController.GetMessages (MessageService)'
2024-08-19 19:04:11.218 +05:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Messages/get?startDate=2024-08-19T14%3A03%3A53.903Z&endDate=2024-08-19T14%3A03%3A53.903Z - 200 null application/json; charset=utf-8 56.7228ms
